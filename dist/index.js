!function(){function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var t=new(function(){"use strict";function t(){var n,i,o,r=this;e(this,t),o={},(i="listeners")in(n=this)?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,window.addEventListener("message",(function(e){var n,t,i;(null===(n=e.data)||void 0===n?void 0:n.event)&&(null===(i=(t=r.listeners)[e.data.event])||void 0===i||i.call(t,e.data.message))}))}var i,o,r;return i=t,(o=[{key:"emit",value:function(e,n){window.top&&window.top.postMessage({event:e,message:n},"*")}},{key:"listen",value:function(e,n){this.listeners[e]=n}},{key:"unregister",value:function(e){delete this.listeners[e]}}])&&n(i.prototype,o),r&&n(i,r),t}());t.listen("ping",(function(){return t.emit("pong",null)})),t.listen("history.back",(function(){return window.history.back()})),t.listen("history.forward",(function(){return window.history.forward()})),t.listen("location.reload",(function(){console.log("relodaing...."),window.location.reload()}))}();
//# sourceMappingURL=index.js.map
